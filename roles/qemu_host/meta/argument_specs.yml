---
argument_specs:
  main:
    short_description: Install and configure a QEMU/KVM host on Enterprise Linux.
    description:
      - Installs QEMU/KVM packages, deploys a systemd template unit for managing VMs,
        and optionally installs the noVNC package (per-VM configuration managed by create_vm role).
    options:
      qemu_host_packages:
        description: Packages to install for QEMU/KVM host.
        type: list
        elements: str
        default:
          - qemu-kvm
          - qemu-img
          - libvirt
          - swtpm
          - swtpm-tools
      qemu_host_libvirtd_enabled:
        description: Whether to enable and start libvirtd.
        type: bool
        default: true
      qemu_host_vm_config_dir:
        description: Directory containing QEMU VM configuration files (one C(.conf) per VM).
        type: path
        default: /etc/qemu/vms
      qemu_host_vm_image_dir:
        description: Directory containing QEMU VM disk images.
        type: path
        default: /var/lib/qemu/images
      qemu_host_service_user:
        description: User for the QEMU systemd service.
        type: str
        default: qemu
      qemu_host_service_group:
        description: Group for the QEMU systemd service.
        type: str
        default: qemu
      qemu_host_novnc_enabled:
        description: >-
          Whether to install the noVNC package for browser-based VNC console access.
          Per-VM noVNC configuration is now managed by the C(create_vm) role.
        type: bool
        default: false
